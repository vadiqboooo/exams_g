# –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –ï–ì–≠ –∏ –û–ì–≠ –≤ —Å–∏—Å—Ç–µ–º–µ

## –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ

### –ï–ì–≠ (–ï–¥–∏–Ω—ã–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω)
- **–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è**: –ü–µ—Ä–≤–∏—á–Ω—ã–µ –±–∞–ª–ª—ã ‚Üí –¢–µ—Å—Ç–æ–≤—ã–µ –±–∞–ª–ª—ã (0-100)
- **–¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞**: –ú–∞—Å—Å–∏–≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–∞–ª–ª–æ–≤
- **–§–æ—Ä–º–∞—Ç**: `[0, 3, 5, 8, 10, ...]` –≥–¥–µ –∏–Ω–¥–µ–∫—Å = –ø–µ—Ä–≤–∏—á–Ω—ã–π –±–∞–ª–ª, –∑–Ω–∞—á–µ–Ω–∏–µ = —Ç–µ—Å—Ç–æ–≤—ã–π –±–∞–ª–ª
- **–ü—Ä–∏–º–µ—Ä**: –ü–µ—Ä–≤–∏—á–Ω—ã–π –±–∞–ª–ª 15 ‚Üí –¢–µ—Å—Ç–æ–≤—ã–π –±–∞–ª–ª 62

### –û–ì–≠ (–û—Å–Ω–æ–≤–Ω–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω)
- **–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è**: –ü–µ—Ä–≤–∏—á–Ω—ã–µ –±–∞–ª–ª—ã ‚Üí –û—Ü–µ–Ω–∫–∞ (2-5)
- **–¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞**: –î–∏–∞–ø–∞–∑–æ–Ω—ã –±–∞–ª–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–∏
- **–§–æ—Ä–º–∞—Ç**: `[{"grade": 2, "min": 0, "max": 10}, {"grade": 3, "min": 11, "max": 15}, ...]`
- **–ü—Ä–∏–º–µ—Ä**: –ü–µ—Ä–≤–∏—á–Ω—ã–π –±–∞–ª–ª 18 ‚Üí –û—Ü–µ–Ω–∫–∞ 4 (–µ—Å–ª–∏ 18 –≤—Ö–æ–¥–∏—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω 16-20)

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü–∞ `subjects`)
```sql
-- –ï–ì–≠ –ø—Ä–µ–¥–º–µ—Ç
INSERT INTO subjects (code, name, exam_type, primary_to_secondary_scale, grade_scale)
VALUES (
  'rus',
  '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫',
  '–ï–ì–≠',
  '[0, 3, 5, 8, 10, ...]',  -- –¢–∞–±–ª–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–∞–ª–ª–æ–≤
  NULL                       -- grade_scale –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ï–ì–≠
);

-- –û–ì–≠ –ø—Ä–µ–¥–º–µ—Ç
INSERT INTO subjects (code, name, exam_type, primary_to_secondary_scale, grade_scale)
VALUES (
  'rus_9',
  '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫',
  '–û–ì–≠',
  NULL,  -- primary_to_secondary_scale –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –û–ì–≠
  '[{"grade": 2, "min": 0, "max": 14}, {"grade": 3, "min": 15, "max": 22}, {"grade": 4, "min": 23, "max": 28}, {"grade": 5, "min": 29, "max": 33}]'
);
```

### Frontend —Ñ–æ—Ä–º–∞
- **–î–ª—è –ï–ì–≠**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–µ–∫—Ü–∏—è "–¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –≤ —Ç–µ—Å—Ç–æ–≤—ã–µ"
- **–î–ª—è –û–ì–≠**: –°–µ–∫—Ü–∏—è —Å–∫—Ä—ã—Ç–∞, —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `null`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞

1. **–ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∏–ø–∞ "–û–ì–≠"**:
   - –°–µ–∫—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ–≤–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - –ï—Å–ª–∏ –±—ã–ª–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞, –æ–Ω–∞ –æ—á–∏—â–∞–µ—Ç—Å—è
   - –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ `primary_to_secondary_scale` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `null`

2. **–ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∏–ø–∞ "–ï–ì–≠"**:
   - –°–µ–∫—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º–æ–π
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–≤–æ–¥–∞
   - –¢–∞–±–ª–∏—Ü–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤

3. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏**:
   - –ü–æ–¥ –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–∞ —ç–∫–∑–∞–º–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞
   - –î–ª—è –ï–ì–≠: "üí° –î–ª—è –ï–ì–≠ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –≤ —Ç–µ—Å—Ç–æ–≤—ã–µ"
   - –î–ª—è –û–ì–≠: "üí° –î–ª—è –û–ì–≠ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∏—á–Ω—ã–π –±–∞–ª–ª, —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è"

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –ï–ì–≠

```javascript
// API –∑–∞–ø—Ä–æ—Å
POST /subjects/
{
  "code": "math_profile",
  "name": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–ø—Ä–æ—Ñ–∏–ª—å)",
  "exam_type": "–ï–ì–≠",
  "tasks_count": 19,
  "max_per_task": [1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,3,3,4,5],
  "primary_to_secondary_scale": [0,6,11,17,22,27,34,40,46,52,58,64,70,72,74,76,78,80,82,84,86,88,90,92,94,95,96,97,98,99,100]
}
```

**–†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤:**
- –ü–µ—Ä–≤–∏—á–Ω—ã–π: –°—É–º–º–∞ –±–∞–ª–ª–æ–≤ –∑–∞ –∑–∞–¥–∞–Ω–∏—è = 15
- –¢–µ—Å—Ç–æ–≤—ã–π: scale[15] = 76

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –û–ì–≠

```javascript
// API –∑–∞–ø—Ä–æ—Å
POST /subjects/
{
  "code": "math_9",
  "name": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
  "exam_type": "–û–ì–≠",
  "tasks_count": 25,
  "max_per_task": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2],
  "primary_to_secondary_scale": null  // –í—Å–µ–≥–¥–∞ null –¥–ª—è –û–ì–≠
}
```

**–†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤:**
- –ü–µ—Ä–≤–∏—á–Ω—ã–π: –°—É–º–º–∞ –±–∞–ª–ª–æ–≤ –∑–∞ –∑–∞–¥–∞–Ω–∏—è = 18
- –¢–µ—Å—Ç–æ–≤—ã–π: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –û—Ü–µ–Ω–∫–∞: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ (–Ω–µ –≤ —Å–∏—Å—Ç–µ–º–µ)

## –ö–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### Frontend (SubjectForm.jsx)

```javascript
const handleSubmit = async (e) => {
  // ...
  const payload = {
    ...formData,
    // –î–ª—è –û–ì–≠ —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤—Å–µ–≥–¥–∞ null
    primary_to_secondary_scale: formData.exam_type === '–û–ì–≠'
      ? null
      : (formData.primary_to_secondary_scale.length > 0
          ? formData.primary_to_secondary_scale
          : null)
  };
};

const handleChange = (e) => {
  // –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –û–ì–≠ –æ—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–≤–æ–¥–∞
  if (name === 'exam_type' && value === '–û–ì–≠') {
    setFormData(prev => ({
      ...prev,
      exam_type: value,
      primary_to_secondary_scale: []
    }));
    setScaleInput('');
  }
};
```

### Backend (models.py)

```python
class Subject(Base):
    # ...
    exam_type = Column(String(20), nullable=False)  # '–ï–ì–≠' –∏–ª–∏ '–û–ì–≠'
    primary_to_secondary_scale = Column(JSON, nullable=True)  # –î–ª—è –ï–ì–≠, null –¥–ª—è –û–ì–≠
```

## –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ï–ì–≠
```
–ü–µ—Ä–≤–∏—á–Ω—ã–π –±–∞–ª–ª: 15/32
–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–ª–ª: 76/100
```

### –û–ì–≠
```
–ü–µ—Ä–≤–∏—á–Ω—ã–π –±–∞–ª–ª: 18/31
(–û—Ü–µ–Ω–∫–∞ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ)
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ —ç–∫–∑–∞–º–µ–Ω–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞**: –ü—Ä–∏ —Å–º–µ–Ω–µ —Ç–∏–ø–∞ —Å –ï–ì–≠ –Ω–∞ –û–ì–≠ —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –æ—á–∏—â–∞–µ—Ç—Å—è
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª—è –û–ì–≠
4. **UI/UX**: –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø–æ–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–∏—è

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–∞:

- [ ] –£–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `rus` –¥–ª—è –ï–ì–≠, `rus_9` –¥–ª—è –û–ì–≠)
- [ ] –í—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø —ç–∫–∑–∞–º–µ–Ω–∞ (–ï–ì–≠/–û–ì–≠)
- [ ] –£–∫–∞–∑–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π
- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –±–∞–ª–ª—ã –∑–∞ –∫–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- [ ] **–î–ª—è –ï–ì–≠**: –ó–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –±–∞–ª–ª–æ–≤
- [ ] **–î–ª—è –û–ì–≠**: –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç null)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ 20 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- **10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –ï–ì–≠**: –° —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
- **10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –û–ì–≠**: –ë–µ–∑ —Ç–∞–±–ª–∏—Ü –ø–µ—Ä–µ–≤–æ–¥–∞ (primary_to_secondary_scale = null)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:
```bash
cd backend
python -c "
import asyncio
from database import AsyncSessionLocal
from sqlalchemy import select
from models import Subject

async def check():
    async with AsyncSessionLocal() as db:
        # –ï–ì–≠ –ø—Ä–µ–¥–º–µ—Ç—ã
        ege = await db.execute(select(Subject).where(Subject.exam_type == '–ï–ì–≠'))
        print('–ï–ì–≠ –ø—Ä–µ–¥–º–µ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π –ø–µ—Ä–µ–≤–æ–¥–∞:')
        for s in ege.scalars():
            has_scale = s.primary_to_secondary_scale is not None
            print(f'  {s.code}: {\"‚úì\" if has_scale else \"‚úó\"}')

        # –û–ì–≠ –ø—Ä–µ–¥–º–µ—Ç—ã
        oge = await db.execute(select(Subject).where(Subject.exam_type == '–û–ì–≠'))
        print('\n–û–ì–≠ –ø—Ä–µ–¥–º–µ—Ç—ã (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü—ã):')
        for s in oge.scalars():
            has_scale = s.primary_to_secondary_scale is not None
            print(f'  {s.code}: {\"‚úó (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)\" if not has_scale else \"‚úì (–æ—à–∏–±–∫–∞!)\"}')

asyncio.run(check())
"
```
